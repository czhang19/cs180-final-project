<html>
<head>
    <title>Cynthia's Project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        
    
    <style>
        .text-format {
            text-align: center;
        }
        .image-alignment {
            display:block;
            margin-left: auto;
            margin-right: auto;
            width: 55%;
        }
        .topnav {
            background-color: #e9ecef;
            overflow: hidden;
            position: fixed;
            top: 0;
            width: 100%;
            align-items: center;
            display:flex;
            justify-content:center
        }
        .topnav a {
            float:left;
            color:black;
            text-align: center;
            padding: 15px 10px 15px 10px;
            text-decoration: none;
            font-size: 20px;
        }
        .topnav a:hover {
            background-color:cornflowerblue;
            color: black;
        }
        .topnav a:active {
            background-color: #e9ecef;
            color: black;
        }
        .topnav-centered a {
            float: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%)
        }
        .topnav-block {
            display: inline-block;
            text-align:center;
        }
    </style>
</head>
<body>
    <div class="topnav">
        <div>
            <a href="#top-of-page">Home</a>
            <a href="#game-images">Demo</a>
            <a href="#game-controls">Details</a>
            <a href="#technologies">Technologies</a>
            <a href="#resources">Resources</a>
            </ul>
        </div>
    </div>
    <div class="jumbotron jumbotron-fluid" id="top-of-page">
        <div class="container">
            <br><h1 class="display-4 text-format">Horseback Archery</h1>
            <h2 class="text-format lead">Cynthia Zhang</h2>
            <h3 class="text-format lead"><a href="https://github.com/czhang19/cs180-final-project" target="_blank">Github repo</a></h3>
            <h3 class="text-format lead">I created a horseback archery game, where the player shoots targets while horseback riding. The horse gallops automatically on a fixed path through the terrain, while the player can look around and aim by touchpad scrolling. There are 20 targets total, and at the end of the course, the game displays the number of targets hit, balls shot, and accuracy.</h3>
        </div>
    </div>
    
    <div>
        <!-- copy paste the <div> asdfasdf </div> block and change the text/image src
        <div>
            <p class="text-format">Descriptor for first image</p>
            <img width="300" alt="example image" src="levelCompleted.jpg" class="image-alignment"><br>
        </div>
    -->
        <div>
            <h1 id="game-images" class="text-format">Game Demo</h1><br>
            <p align="center"><iframe width="55%" height="75%" src="https://www.youtube.com/embed/VqhD6X1noTE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
        </div>
        <br><div>
            <h1 id="game-controls" class="text-format">Game Controls</h1>
            <div class="text-format" style="margin-left: 20%; margin-right: 20%">
                <ul class="list-unstyled" style="margin-left: 25px;margin-top: 15px;margin-bottom: 15px">
                    <li>Two-finger Touchpad Scroll - look around / aim</li>
                    <li>SPACEBAR - shoot ball / begin or restart game</li>
                    <li>Z - draw mesh</li>
                    <li>ESC - close game</li>
                </ul>
            </div>
        </div><br>
        <div>
            <img width="300" alt="example image" src="lobbyScreen.jpg" class="image-alignment"><br>
        </div>
        <div>
            <p class="text-format" style="margin-left: 22.5%; margin-right: 22.5%">The horse and character are both hierarchically modeled. The horse is animated with keyframes, as well as with global translations and rotations for more natural up-down motion.  The horse always stays at the height of the ground, faces the direction it's moving, and gallops smoothly by following a Bezier curve.</p>
            <p class="text-format" style="margin-left: 22.5%; margin-right: 22.5%">I implemented the arrows as balls, because arrows were difficult to visually track after being fired and creating an arrow trail was outside the scope of my project. The balls follow projectile motion after being fired and return to the player's quiver upon contact with either a target, the ground, or the skybox (out of bounds). The player can have at most 10 balls in the air at a time. For each additional ball launched, the first-launched ball in the air is reused and counts as a "missed" shot towards the player's accuracy.</p>
            <img width="300" alt="example image" src="partSysLowAcc.jpg" class="image-alignment"><br>
        </div>
        <div>
            <p class="text-format" style="margin-left: 22.5%; margin-right: 22.5%">There is collision detection between the balls and the targets, using sphere vs AABB (axis aligned bounding box) collision detection. Upon collision, the target explodes into a particle system and the ball returns to the player's quiver.</p>
            <p class="text-format" style="margin-left: 22.5%; margin-right: 22.5%">The game camera stays at a fixed radius around the horse with vertical constraints. It is controlled with pitch and yaw by the player's touchpad scroll. The center of the sphere is a point above the horse at all times.</p>
            <p class="text-format" style="margin-left: 22.5%; margin-right: 22.5%">Using the FreeType library, I implemented text rendering to display game instructions, stats and the final score. I also used a text-rendered plus sign for the crosshairs.</p>
            <img width="300" alt="example image" src="levelCompleted.jpg" class="image-alignment"><br>
        </div>
        <div>
            <p class="text-format" style="margin-left: 22.5%; margin-right: 22.5%">The entire terrain is generated from a DEM (digital elevation model), with an accompanying texture file. Although my DEM had a very high resolution of 4096x4096, I had trouble passing all these pixel values to the GPU in an array, so I instead used every 16th pixel, essentially converting my heightmap image to 256x256. Then for object placement on my terrain, I used barycentric coordinates to retrieve the terrain height anywhere in my world.  </p>
            <img width="300" alt="example image" src="terrain.jpg" class="image-alignment"><br>
        </div>
    </div>
    <div>
        <br><h1 id="technologies" class="text-format">Technologies</h1>
        <div class="card" style="margin-left: 20%; margin-right: 20%">
            <ul class="list-unstyled" style="margin-left: 25px;margin-top: 15px;margin-bottom: 15px">
                <li>• Hierarchically-modeled and keyframed animation</li>
                <li>• Physics-based animation - projectile motion</li>
                <li>• Collision detection</li>
                <li>• Particle systems</li>
                <li>• Third-person follow camera</li>
                <li>• Height-mapped terrain from a DEM</li>
                <li>• Texture-mapped meshes from mtl files</li>
                <li>• Blinn-Phong Shading with directional light</li>
                <li>• Text Rendering</li>
                <li>• Bezier curve following</li>
                <li>• Skybox</li>
            </ul>
        </div>
    </div>
    <div id="resources" class="text-format">
        <br><h3>Resources</h3>
        Skybox <a href="https://hdrihaven.com/hdri/?h=kiara_1_dawn" target="_blank">image</a> and <a href="https://jaxry.github.io/panorama-to-cubemap/" target="_blank">cubemap generator</a> (for skybox faces)<br>
        3D OBJ models from CGtrader, TurboSquid and Free3D: <a href="https://www.cgtrader.com/free-3d-models/exterior/landscape/high-poly-canyon" target="_blank">terrain</a>, <a href="https://free3d.com/3d-model/rusticsmallhorsestable-2010-v1--153472.html" target="_blank">stable</a>, <a href="https://www.cgtrader.com/free-3d-models/plant/grass/grass-lowpoly" target="_blank">grass</a>, <a href="https://www.cgtrader.com/free-3d-models/military/other/wooden-bow-and-arrow" target="_blank">bow and arrow</a>, <a href="https://www.turbosquid.com/3d-models/3d-archery-model-1552530" target="_blank">target</a><br>
        3D Horse and Animation frames from Jillian Empey's <a href="http://users.csc.calpoly.edu/~zwood/teaching/csc471/finalS19/jeempey/index.html" target="_blank">website</a><br>

    </div>
    <div id="references" class="text-format">
        <br><h3>Guides and Tutorials</h3>
        Learn OpenGL tutorials: <a href="https://learnopengl.com/Advanced-OpenGL/Blending" target="_blank">blending</a> and <a href="https://learnopengl.com/In-Practice/Text-Rendering" target="_blank">text rendering</a><br>
        Thin Matrix OpenGL 3D Java Game Tutorials: <a href="https://youtu.be/O9v6olrHPwI" target="_blank">terrain heightmaps</a>, <a href="https://youtu.be/6E2zjfzMs7c" target="_blank">terrain collision detection</a>, <a href="https://youtu.be/d-kuzyCkjoQ" target="_blank">player movement and orientation</a><br>
        CPE 476 S20 Finding Dory (text rendering example): <a href="https://github.com/gmonteir/FishFinder" target="_blank">github repo</a><br>
        Collision detection with AABB: <a href="https://developer.mozilla.org/en-US/docs/Games/Techniques/3D_collision_detection" target="_blank">tutorial</a><br>
        <br><br>
    </div>
</body>
</html>
